!function(){function validEmail(email){var re;return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(email)}function validateHuman(honeypot){if(honeypot)return console.debug("Robot Detected!"),!0;console.debug("Welcome Human!")}function getFormData(form){var elements=form.elements,fields=Object.keys(elements).filter(function(k){return"honeypot"!==elements[k].name}).map(function(k){return void 0!==elements[k].name?elements[k].name:elements[k].length>0?elements[k].item(0).name:void 0}).filter(function(item,pos,self){return self.indexOf(item)==pos&&item}),formData={};return fields.forEach(function(name){var element=elements[name];if(formData[name]=element.value,element.length){for(var data=[],i=0;i<element.length;i++){var item=element.item(i);(item.checked||item.selected)&&data.push(item.value)}formData[name]=data.join(", ")}}),formData.formDataNameOrder=JSON.stringify(fields),formData.formGoogleSheetName=form.dataset.sheet||"responses",formData.formGoogleSendEmail=form.dataset.email||"",console.debug(formData),formData}function handleFormSubmit(event){event.preventDefault();var form=event.target,data=getFormData(form);if(data.email&&!validEmail(data.email)){var invalidEmail=form.querySelector(".email-invalid");if(invalidEmail)return invalidEmail.style.display="block",!1}else{disableAllButtons(form);var url=form.action,xhr=new XMLHttpRequest;xhr.open("POST",url),xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),xhr.onreadystatechange=function(){console.debug(xhr.status,xhr.statusText),console.debug(xhr.responseText),form.reset();var formElements=form.querySelector(".form-elements");formElements&&(formElements.style.display="none");var thankYouMessage=form.querySelector(".thankyou");thankYouMessage&&(thankYouMessage.style.display="block")};var encoded=Object.keys(data).map(function(k){return encodeURIComponent(k)+"="+encodeURIComponent(data[k])}).join("&");xhr.send(encoded)}}function loaded(){console.debug("Contact form submission handler loaded successfully.");for(var forms=document.querySelectorAll("form.gform"),i=0;i<forms.length;i++)forms[i].addEventListener("submit",handleFormSubmit,!1)}function disableAllButtons(form){for(var buttons=form.querySelectorAll("button"),i=0;i<buttons.length;i++)buttons[i].disabled=!0}document.addEventListener("DOMContentLoaded",loaded,!1)}();